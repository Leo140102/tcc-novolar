<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="imagens/Logo NovoLar.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />

  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

  <title>NovoLar</title>

  <link rel="Stylesheet" href="index.css" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
</head>

<body>

  <header>
    <a href="#" class="logo"><img src="imagens/Logo NovoLar.png"> </a>




    <ul class="navbar">
      <li><a href="#home" style="color: rgb(0, 134, 211);">Home</a></li>
      <li><a href="imoveis.html">Imóveis</a></li>
      <li><a href="sobreNos.html">Sobre nós</a></li>
      <li><a href="faleConosco.html">Fale conosco</a></li>
      <li><a href="anunciar.html">Anunciar</a></li>
    </ul>


    <ul class="actions">
      <li><a>
        
          <div class="searchBox">
            <div class="searchToggle">
              <span class="bx bx-x cancel"></span>
              <!-- <span class="bx bx-search search"></span> -->
            </div>

            <!-- <div class="search-field">
              <input id="searchInput" type="text" placeholder="Pesquisar">
              <span class="bx bx-search"></span>
            </div> -->

          </div>

        </a></li>
      <li><a href="login.html" id="loginicon">
          <span class="bx bx-user" id="user-icon"></span>
        </a></li>
      <li>
        <span class="bx bx-menu" id="menu-icon"></span>
      </li>
      <span id="userSession"></span>
    </ul>



  </header>

  <section class="home" id="home">
    <div class="home-text">
      <span>Bem Vindo à</span>
      <h1>NovoLar</h1>
      <h2>Encontre seu novo lar</h2>
      <a href="imoveis.html" class="btn">Procurar</a>
    </div>
    <div class="home-img">
      <img src="imagens/undraw_best_place_re_lne9.svg" alt="">
    </div>
  </section>
  <section class="shop" id="shop">
    <div class="heading">
      <span>Alugue agora</span>
      <h1>Seu Lar perfeito</h1>
    </div>
  </section>

  <section class="shop" id="shop">
    <div class="titulo">
      <span2>Melhores notas</span2>
    </div>
  </section>

  <section class="section__container popular__container">

    <div class="popular__grid" id="anuncios">
      <div class="popular__card">

        <a href="imovelItem.html">
          <img src="imagens/casa2.jpg" alt="popular hotel" />
          <div class="stars">
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star-half'></i>
            <span id="nota">4.7(21)</span>
          </div>
          <div class="popular__content">
            <div class="popular__card__header">
              <h4>...</h4>
              <h3>...</h3>
            </div>
            <p>...</p>
          </div>
        </a>
      </div>

    </div>
  </section>

  <section class="shop" id="shop">
    <div class="titulo">
      <span2>Repúblicas</span2>
    </div>
  </section>

  <section class="section__container republica__container">

    <div class="republica__grid" id="anuncios">
      <div class="republica__card">

        <a href="imovelItem.html">
          <img src="imagens/casa2.jpg" alt="republica" />
          <div class="stars">
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star'></i>
            <i class='bx bxs-star-half'></i>
            <span id="nota">4.7(21)</span>
          </div>
          <div class="republica__content">
            <div class="republica__card__header">
              <h4>...</h4>
              <h3>...</h3>
            </div>
            <p>...</p>
          </div>
        </a>
      </div>

    </div>
  </section>


  <section class="sobreNos" id="sobreNos">
    <div class="heading">
      <span>Conheça a</span>
      <h1> NovoLar</h1>
    </div>
    <div class="container">
      <div class="sobreNos-img">
        <img src="imagens/education.svg" alt="">
      </div>
      <div class="sobreNos-text">
        <h2>Você merece praticidade e conforto</h2>
        <p>Na NovoLar, entendemos que encontrar um lugar para chamar de lar durante seus estudos é essencial para o seu
          sucesso acadêmico e bem-estar pessoal.
          Por isso, nos dedicamos a facilitar a busca pelo imóvel perfeito, adaptado às suas necessidades e orçamento.
        </p>


        <a href="sobreNos.html" class="btn">Sobre nós</a>
      </div>
    </div>
  </section>

  <section class="faleConosco" id="faleConosco">

    <div class="heading">
      <span>Fale Conosco</span>
      <h1> Envie uma mensagem</h1>
    </div>
    <div class="container">

      <div class="faleConosco-text">
        <h2>Você merece praticidade e conforto</h2>
        <p>No NovoLar, estamos comprometidos em proporcionar uma experiência de aluguel de imóveis excepcional e sem
          complicações. Entendemos que cada cliente é único, com suas próprias necessidades, expectativas e sonhos. Por
          isso, dedicamos nosso tempo e esforço para garantir que cada interação com nossa plataforma seja marcada por
          facilidade, eficiência e satisfação total.</p>
        <p>Sabemos que encontrar o imóvel perfeito pode ser um desafio, e é por isso que estamos aqui para ajudar em
          cada etapa do caminho. Seja você um estudante procurando um lugar aconchegante para morar durante os estudos,
          uma família em busca de uma nova casa ou um profissional buscando um espaço prático e bem localizado, nossa
          missão é garantir que você encontre exatamente o que precisa.</p>

        <a href="faleConosco.html" class="btn">enviar mensagem</a>
      </div>
      <div class="faleConosco-img">
        <img src="imagens/team2.svg" alt="">
      </div>
    </div>

  </section>

  <section class="teste" id="teste">
    <div class="teste" id="teste2">
      <div class="teste-img">
        <img src="imagens/conforto.svg" alt="">
      </div>
      <div class="teste-text">
        <h2>Você merece praticidade e conforto</h2>
        <p>Somos uma plataforma dedicada exclusivamente ao aluguel de imóveis para estudantes.
          Nossa missão é proporcionar uma experiência fácil, segura e confiável na busca e aluguel de acomodações
          estudantis.
          Com um catálogo variado de opções, desde apartamentos compartilhados até estúdios privativos, temos a solução
          ideal
          para cada estudante</p>
        <p>Nosso compromisso é facilitar cada etapa do processo de locação,
          oferecendo uma interface amigável e intuitiva que torna a busca pelo imóvel perfeito rápida e sem
          complicações.

        </p>

        <a href="imoveis.html" class="btn">Encontrar</a>
      </div>
    </div>
  </section>



  <!--Contato-->
  <section class="contato" id="contato">
    <div class="social">
      <a href="#"><i class='bx bxl-facebook'></i> </a>
      <a href="#"><i class='bx bxl-twitter'></i> </a>
      <a href="#"><i class='bx bxl-instagram'></i> </a>
      <a href="#"><i class='bx bxl-youtube'></i> </a>
    </div>
    <div class="links">
      <a href="#">Política de privacidade</a>
      <a href="#">Termos de uso</a>
      <a href="#">Nossa empresa</a>
    </div>
    <p>&#169; NovoLar All Right Reserved.</p>
  </section>

  <div id="root"></div>
  <script src="home.js"></script>
  <script src="main.js"></script>


  <!--whatssapp-->
  <div class="buttonzap">
    <a href="https://wa.me/5544998996466" class="icon" target="_blank"><i class="bx bxl-whatsapp"></i></a>
  </div>
</body>
<script>
fetch('http://localhost:8000/user/name')
              .then(response => response.json())
              .then(data => {
                   document.getElementById('userSession').innerText = data.nome;
                   let iconUser = document.querySelector('#user-icon');
                  // iconUser.classList.remove('bx-group'); // Indica que o usuário está logado
                   // iconUser.classList.add('bx-user');
               })
              .catch(error => console.error('Erro ao carregar nome do usuário:', error));
</script>

  <!-- document.addEventListener('DOMContentLoaded', function () {


    //  const clearProfile = () => {
    //    const vazio = document.getElementById('perfil').innerText = "";
    //    let iconUser = document.querySelector('#user-icon');
    //   iconUser.classList.toggle('bx-user');
    //    // vazio = "";
    //  };

    //dockument.getElementById('sair').addEventListener('click', clearProfile);

    //  if (vazio === "") {
    fetch('http://localhost:8000/user/name')
      .then(response => response.json())
      .then(data => {
        document.getElementById('userSession').innerText = data.nome;
        let iconUser = document.querySelector('#user-icon');
        iconUser.classList.toggle('');
      })
      .catch(error => console.error('Erro ao carregar nome do usuário:', error));
    //  } else {
    //    clearUserSession(); // Limpa o nome do usuário se não estiver logado
    //  }
  });
  //   document.addEventListener('DOMContentLoaded', function () {
  //     // Verifica se o usuário está logado antes de buscar o nome
  //     if (sessionStorage.getItem('loggedIn')!== null) {
        fetch('http://localhost:8000/user/name')
              .then(response => response.json())
              .then(data => {
                   document.getElementById('userSession').innerText = data.nome;
                   let iconUser = document.querySelector('#user-icon');
                  // iconUser.classList.remove('bx-group'); // Indica que o usuário está logado
                   // iconUser.classList.add('bx-user');
               })
              .catch(error => console.error('Erro ao carregar nome do usuário:', error));
  //     } else {
  //         // Se o usuário não estiver logado, limpa o nome do usuário e atualiza o ícone
  //         document.getElementById('userSession').innerText = "";
  //         // let iconUser = document.querySelector('#user-icon');
  //         // iconUser.classList.remove('bx-user'); // Remover a classe 'bx-user'
  //         // iconUser.classList.add('bx-group'); // Adicionar a classe 'bx-group' para indicar que o usuário saiu
  //     }
  // });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const logoutButton = document.getElementById('logoutBtn');

    if (logoutButton) {
      logoutButton.addEventListener('click', function (event) {
        event.preventDefault(); // Impede o comportamento padrão do botão

        fetch('http://localhost:8000/logout', { method: 'GET' }) // Corrigido aqui
          .then(response => {
            if (response.ok) {
              document.getElementById('userSession').innerText = ""; // Limpa o texto do usuário
              alert("Logout realizado com sucesso!"); // Opicional: exibe uma mensagem de confirmação
            } else {
              throw new Error('Erro ao encerrar sessão.');
            }
          })
          .catch(error => {
            console.error('Erro ao encerrar sessão:', error);
            alert("Falha ao realizar o logout."); // Opicional: exibe uma mensagem de erro
          });
      });
    }
  });


</script>

 <script>
  document.addEventListener('DOMContentLoaded', function () {
    document.getElementById('perfil').innerText = "";
  }) -->

</script> 
</html>